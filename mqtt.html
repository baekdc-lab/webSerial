function drawChart(cv, series, colors){
  const ctx=prepCanvas(cv);const W=cv.clientWidth,H=cv.clientHeight;
  const padL=42,padR=12,padT=8,padB=24,plotW=W-padL-padR,plotH=H-padT-padB;
  const light=document.documentElement.classList.contains('light');
  ctx.clearRect(0,0,W,H); ctx.fillStyle=light?'#eef1f7':'#0f1526'; ctx.fillRect(0,0,W,H);

  // 그리드 + X라벨
  ctx.strokeStyle=light?'#ccd4e0':'#22314f'; ctx.beginPath();
  for(let g=0;g<=4;g++){const y=padT+plotH*g/4;ctx.moveTo(padL,y);ctx.lineTo(padL+plotW,y);}
  for(let m=0;m<=60;m+=10){const x=padL+plotW*(m/60);ctx.moveTo(x,padT);ctx.lineTo(x,padT+plotH);}
  ctx.stroke();

  ctx.fillStyle=light?'#5a6b8a':'#9fb2d7'; ctx.font='12px system-ui,Segoe UI,Roboto,Apple SD Gothic Neo,sans-serif';
  ctx.textAlign='center'; ctx.textBaseline='top';
  for(let m=0;m<=60;m+=10){const x=padL+plotW*(m/60);ctx.fillText((60-m)==0?'지금':`-${60-m}m`,x,padT+plotH+6);}

  // Y 스케일
  const vals=[]; series.forEach(s=>s.forEach(v=>{if(Number.isFinite(v))vals.push(v);}));
  let vmin=Math.min(...(vals.length?vals:[0])), vmax=Math.max(...(vals.length?vals:[1]));
  if(vmax===vmin){vmax=vmin+1;} const pad=(vmax-vmin)*0.08; vmin-=pad; vmax+=pad;

  ctx.textAlign='right'; ctx.textBaseline='middle';
  for(let g=0;g<=4;g++){const y=padT+plotH*g/4, val=vmax-(vmax-vmin)*g/4;
    ctx.fillText(val.toFixed((vmax-vmin)<10?1:0), padL-6, y);
  }

  const xAt=i=>padL+plotW*(i/59), yAt=v=>padT+((vmax-v)/(vmax-vmin))*plotH;

  // 시리즈 라인만(점선 없음)
  series.forEach((arr,idx)=>{
    const color=colors[idx];
    ctx.beginPath(); ctx.lineWidth=2; ctx.strokeStyle=color;
    let moved=false, N=arr.length;
    for(let i=0;i<60;i++){
      const j=i-(60-N); const v=(j>=0&&j<N)?arr[j]:NaN; const x=xAt(i);
      if(Number.isFinite(v)){const y=yAt(v); if(!moved){ctx.moveTo(x,y);moved=true;} else ctx.lineTo(x,y);}
      else moved=false;
    }
    ctx.stroke();
  });
}
